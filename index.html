<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thư viện Game của bạn</title>

    <style>
        /* --- Cài đặt chung --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #ffffff;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h2 {
            text-align: center;
            font-size: 2rem;
            color: #000000;
            margin-bottom: 30px;
        }
        
        /* --- Lưới game --- */
        .rom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 25px;
        }

        /* --- Thẻ game --- */
        .rom-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            text-align: center;
            cursor: pointer; /* Biến con trỏ thành hình bàn tay */
        }
        .rom-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        .rom-card img {
            width: 100%;
            height: auto;
            display: block;
        }
        .rom-card h3 {
            font-size: 1rem;
            padding: 15px 10px;
            margin: 0;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
        }

        /* --- CỬA SỔ CHI TIẾT GAME (MODAL) - MỚI --- */
        .modal {
            display: none; /* Mặc định ẩn đi */
            position: fixed; /* Luôn hiển thị trên cùng */
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Cho phép cuộn nếu nội dung quá dài */
            background-color: rgba(0, 0, 0, 0.6); /* Lớp nền mờ */
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: #fff;
            margin: auto;
            padding: 30px;
            border-radius: 12px;
            max-width: 800px; /* Chiều rộng tối đa của cửa sổ */
            width: 90%;
            position: relative;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .close-button {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover {
            color: #000;
        }

        .modal-body {
            display: flex;
            gap: 20px;
        }

        .modal-gallery {
            flex: 1; /* Chiếm 1 phần không gian */
        }

        .modal-gallery img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .modal-info {
            flex: 1; /* Chiếm 1 phần không gian */
        }
        
        #modalTitle {
            margin-top: 0;
        }

        #modalCategory {
            background-color: #e9ecef;
            color: #495057;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block; /* Chỉ chiếm độ rộng vừa đủ */
            font-weight: bold;
        }

        #modalDownloadLink{
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-color 0.2s;
        }
        #modalDownloadModLink {
            display: inline-block;
            background-color: #189f00b1;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            margin-top: 20px;
            transition: background-color 0.2s;
        }
        #modalDownloadLink:hover{
            background-color: #0056b3;
        }

        #modalDownloadModLink:hover {
            background-color: #137d00b1;
        }

    </style>
</head>
<body>

    <main class="container">
        <h2>Cài và tải game</h2>
        <div class="rom-grid">
            
            <div class="rom-card" 
                 data-title="The Legend of Zelda: Tears of the Kingdom"
                 data-category="Hành động, Nhập vai"
                 data-summary="Trong phần tiếp theo của The Legend of Zelda: Breath of the Wild, hãy định hình con đường của riêng bạn qua các cảnh quan rộng lớn của Hyrule và các hòn đảo bí ẩn trôi nổi trên bầu trời."
                 data-images="https://github.com/Drobez/Drobe.github.io/blob/main/Img/zelda.jpg?raw=true"
                 data-download-link="https://example.com/download/zelda-tok"
                 data-download-mod="https://example.com/download/zelda-tok-mod">
                <img src="https://github.com/Drobez/Drobe.github.io/blob/main/Img/zelda.jpg?raw=true" alt="Zelda">
                <h3>The Legend of Zelda</h3>
            </div>

            <div class="rom-card" 
                 data-title="The Legend of Zelda: Tears of the Kingdom"
                 data-category="Hành động, Nhập vai"
                 data-summary="Trong phần tiếp theo của The Legend of Zelda: Breath of the Wild, hãy định hình con đường của riêng bạn qua các cảnh quan rộng lớn của Hyrule và các hòn đảo bí ẩn trôi nổi trên bầu trời."
                 data-images="https://github.com/Drobez/Drobe.github.io/blob/main/Img/zelda.jpg?raw=true"
                 data-download-link="https://drive.google.com/file/d/1X-69tFKaO_LKTtrpk_9dv2SL5MYqxKi8/view?usp=sharing"
                 data-download-mod="https://example.com/download/zelda-tok-mod-2">
                <img src="https://github.com/Drobez/Drobe.github.io/blob/main/Img/zelda.jpg?raw=true" alt="Zelda">
                <h3>The Legend of Zelda</h3>
            </div>
            
             </div> 
    </main>

    <div id="gameDetailModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="modal-body">
                <div class="modal-gallery" id="modalGallery">
                    </div>
                <div class="modal-info">
                    <h2 id="modalTitle">Tên Game</h2>
                    <p><span id="modalCategory">Thể loại</span></p>
                    <p id="modalSummary">Tóm tắt nội dung game...</p>
                    <a href="#" id="modalDownloadLink" target="_blank">Tải Game</a>
                    <a href="#" id="modalDownloadModLink" target="_blank" style="display: none;">Tải Mod</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lấy các phần tử HTML cần thiết
        const modal = document.getElementById('gameDetailModal');
        const closeModalButton = document.querySelector('.close-button');
        const romGrid = document.querySelector('.rom-grid');
        const modalDownloadModLink = document.getElementById('modalDownloadModLink');

        // Lắng nghe sự kiện click trên toàn bộ lưới game
        romGrid.addEventListener('click', (event) => {
            // Tìm thẻ game (.rom-card) gần nhất với vị trí đã click
            const card = event.target.closest('.rom-card');
            
            if (card) {
                // Lấy thông tin từ các thuộc tính data-* của thẻ game
                const title = card.dataset.title;
                const category = card.dataset.category;
                const summary = card.dataset.summary;
                const images = card.dataset.images.split(','); // Tách chuỗi ảnh thành một mảng
                const downloadLink = card.dataset.downloadLink;
                const downloadModLink = card.dataset.downloadMod;

                // "Đổ" thông tin vào cửa sổ modal
                document.getElementById('modalTitle').textContent = title;
                document.getElementById('modalCategory').textContent = category;
                document.getElementById('modalSummary').textContent = summary;
                document.getElementById('modalDownloadLink').href = downloadLink;
                
                // Xử lý nút tải mod
                if (downloadModLink) {
                    modalDownloadModLink.href = downloadModLink;
                    modalDownloadModLink.style.display = 'inline-block'; // Hiện nút nếu có link
                }
                
                // Xử lý phần hình ảnh
                const gallery = document.getElementById('modalGallery');
                gallery.innerHTML = ''; // Xóa các ảnh cũ trước khi thêm ảnh mới
                images.forEach(imageUrl => {
                    const img = document.createElement('img');
                    img.src = imageUrl.trim(); // trim() để xóa khoảng trắng thừa
                    gallery.appendChild(img);
                });

                // Hiển thị cửa sổ modal
                modal.style.display = 'flex';
            }
        });

        // Hàm để đóng cửa sổ modal
        function closeModal() {
            modal.style.display = 'none';
            // Luôn ẩn nút tải mod khi đóng để reset trạng thái
            modalDownloadModLink.style.display = 'none';
        }

        // Gán sự kiện click cho nút đóng (dấu X)
        closeModalButton.addEventListener('click', closeModal);

        // Gán sự kiện: nếu click vào lớp nền mờ (bên ngoài cửa sổ) thì cũng đóng lại
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });

    </script>
</body>
</html>